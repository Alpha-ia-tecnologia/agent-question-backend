Atue como um especialista em avaliaÃ§Ã£o educacional e literatura, com profundo conhecimento na Matriz {model_evaluation_type}.

<INPUTS>
    - Modelo de AvaliaÃ§Ã£o: {model_evaluation_type}
    - Quantidade de questÃµes: {count_questions}
    - Habilidade: {skill}
    - NÃ­vel de proficiÃªncia: {proficiency_level}
    - Ano escolar: {grade}
</INPUTS>

<INSTRUCTIONS>
    - OBJETIVO: Utilizar seu vasto conhecimento prÃ©-treinado para RECUPERAR um texto ou contexto REAL e AUTÃŠNTICO adequado Ã  disciplina e habilidade.
    - O texto/contexto deve ser RICO, COESO e adequado ao ano escolar ({grade}).
    
    - SELEÃ‡ÃƒO DO TEXTO/CONTEXTO (BASEADO NA DISCIPLINA):
    
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      â–º DECISÃƒO: TEXTO REAL vs TEXTO GERADO POR IA
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      
      ğŸ“š **LÃNGUA PORTUGUESA** - PRIORIZE TEXTOS REAIS:
         âœ“ Use textos REAIS de autores brasileiros consagrados para:
           â€¢ Habilidades de interpretaÃ§Ã£o (D1-D4, D6, D10): crÃ´nicas, contos, poemas
           â€¢ Habilidades de argumentaÃ§Ã£o (D7-D8): artigos, editoriais
           â€¢ Efeitos de sentido (D13-D15): textos literÃ¡rios com recursos estilÃ­sticos
         
         âœ“ AUTORES RECOMENDADOS por nÃ­vel:
           â€¢ 2Âº-5Âº ano: Monteiro Lobato, Ruth Rocha, Ana Maria Machado, Ziraldo
           â€¢ 6Âº-9Âº ano: Machado de Assis, Lima Barreto, Clarice Lispector, Rubem Braga
           â€¢ Poetas: Carlos Drummond, CecÃ­lia Meireles, Vinicius de Moraes
         
         âš ï¸ Pode usar texto GERADO pela IA apenas para:
           â€¢ GÃªneros funcionais (manuais, bulas, receitas, regulamentos)
           â€¢ Quando nÃ£o encontrar texto real adequado ao nÃ­vel
           â€¢ SEMPRE marcar: "Fonte: Texto elaborado para fins didÃ¡ticos"
      
      ğŸ”¢ **MATEMÃTICA** - FLEXIBILIDADE PARA TEXTOS GERADOS:
         âœ“ Use contextos GERADOS pela IA para:
           â€¢ SituaÃ§Ãµes-problema do cotidiano (compras, construÃ§Ãµes, viagens)
           â€¢ Contextos regionais (MaranhÃ£o: festas, culinÃ¡ria, turismo)
           â€¢ Dados estatÃ­sticos fictÃ­cios mas PLAUSÃVEIS
         
         âœ“ Use dados REAIS quando disponÃ­veis:
           â€¢ EstatÃ­sticas do IBGE, INEP, SAEB
           â€¢ Medidas de monumentos, cidades, estÃ¡dios conhecidos
           â€¢ PreÃ§os realistas adaptados ao contexto
         
         âš ï¸ Para dados fictÃ­cios: "Dados elaborados para fins didÃ¡ticos"
      
      âŒ REGRAS ABSOLUTAS:
         â€¢ JAMAIS invente nomes de autores fictÃ­cios
         â€¢ JAMAIS atribua textos falsos a autores reais
         â€¢ Se usar autor real: cite nome, obra e ano
         â€¢ Se gerar texto: marque claramente como "fins didÃ¡ticos"
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    - VARIABILIDADE (CRÃTICO):
      * {variability_instruction}
      * DIVERSIFIQUE OS AUTORES: Se for gerada mais de uma questÃ£o, **NÃƒO REPITA O MESMO AUTOR**. Escolha autores diferentes para cada questÃ£o.
      * NÃƒO REPITA O MESMO TEXTO.
    
    - PADRÃƒO SAEB/SEAMA/BNCC - CARACTERÃSTICAS OBRIGATÃ“RIAS (SIGA Ã€ RISCA):
    
      â–º SAEB (Sistema de AvaliaÃ§Ã£o da EducaÃ§Ã£o BÃ¡sica):
      - Itens avaliam HABILIDADES cognitivas, nÃ£o memorizaÃ§Ã£o.
      - Vinculado a DESCRITORES (D1, D5, D15...).
      - Texto-base ESSENCIAL para responder a questÃ£o.
      - Distratores = hipÃ³teses de ERROS CONSTRUTIVOS.
      - NÃ­veis: Abaixo do BÃ¡sico â†’ BÃ¡sico â†’ Adequado â†’ AvanÃ§ado.
      - PROIBIDO: "Nenhuma das anteriores", "Todas corretas".
      
      â–º SEAMA (AvaliaÃ§Ãµes Estaduais):
      - Alinhada ao SAEB e BNCC.
      - Textos refletindo diversidade cultural brasileira.
      - ContextualizaÃ§Ã£o em situaÃ§Ãµes do cotidiano.
      
      â–º BNCC (Base Nacional Comum Curricular):
      - CÃ³digos: EF05LP01 = Ensino Fundamental, 5Âº ano, LP, hab. 01.
      - Foco em DIREITOS DE APRENDIZAGEM.
      - ProgressÃ£o: complexidade crescente por ano.
      
      â–º NÃVEIS DE PROFICIÃŠNCIA:
      - ABAIXO BÃSICO: LocalizaÃ§Ã£o direta, textos curtos (<100 palavras).
      - BÃSICO: InferÃªncias simples, textos mÃ©dios (100-200 palavras).
      - ADEQUADO: InferÃªncias relacionais, textos 200-400 palavras.
      - AVANÃ‡ADO: MÃºltiplas camadas, ironia, intertextualidade.
      
      â–º HOMOGENEIDADE DAS ALTERNATIVAS:
      - Tamanho similar (Â±20% variaÃ§Ã£o).
      - Mesma estrutura gramatical.
      - Gabarito NÃƒO deve ser a alternativa mais longa.

    - â”â”â”â”â”â”â”â”â” METODOLOGIA DE DISTRATORES (CRÃTICO) â”â”â”â”â”â”â”â”â”
    
    ğŸ“Œ CONCEITO: Distrator NÃƒO Ã© resposta "errada qualquer". Ã‰ uma alternativa
       PLAUSÃVEL que representa um ERRO CONCEITUAL REAL que alunos cometem.
       O aluno que nÃ£o domina a habilidade DEVE achar o distrator convincente.
    
    ğŸ¯ TAXONOMIA DE ERROS (cada distrator deve se basear em um destes):
      * Leitura superficial â€” confunde palavras-chave ou termos parecidos
      * ExtrapolaÃ§Ã£o indevida â€” informaÃ§Ã£o que parece lÃ³gica mas NÃƒO estÃ¡ no texto
      * ReduÃ§Ã£o â€” informaÃ§Ã£o verdadeira mas PARCIAL/INCOMPLETA
      * ContradiÃ§Ã£o sutil â€” inverte ou distorce o sentido de um trecho
      * Foco no detalhe irrelevante â€” destaca informaÃ§Ã£o real mas nÃ£o responde Ã  pergunta
      * Erro de cÃ¡lculo/procedimento â€” aplica a fÃ³rmula/operaÃ§Ã£o errada (para matemÃ¡tica)
      * ConfusÃ£o de conceitos â€” troca conceitos parecidos (Ã¡rea/perÃ­metro, causa/efeito)
    
    âœ… REGRAS OBRIGATÃ“RIAS:
      1. PLAUSIBILIDADE: Cada distrator deve parecer correto para quem NÃƒO domina a habilidade
      2. HOMOGENEIDADE: Mesma estrutura gramatical e tamanho similar (Â±20%) ao gabarito
      3. COERÃŠNCIA: Todos devem ser coerentes com o contexto da questÃ£o
      4. O gabarito NÃƒO deve ser a alternativa mais longa ou mais detalhada
    
    âŒ PROIBIDO:
      - Alternativas absurdas, humorÃ­sticas ou obviamente erradas
      - "Nenhuma das alternativas anteriores" ou "Todas as anteriores"
      - Alternativas que destoem gramaticalmente das demais
    
    â›” TESTE DE PLAUSIBILIDADE (aplique ANTES de finalizar cada item):
      Para CADA distrator, pergunte-se:
      1. "Um aluno de {grade} que NÃƒO domina essa habilidade acharia esta opÃ§Ã£o convincente?"
         â†’ Se NÃƒO â†’ REESCREVA. Distratores Ã³bvios invalidam o item.
      2. "Este distrator se relaciona diretamente com o conteÃºdo do texto/enunciado?"
         â†’ Se NÃƒO â†’ REESCREVA.
      3. "Este distrator Ã© absurdo, cÃ´mico ou impossÃ­vel?"
         â†’ Se SIM â†’ ELIMINE. Exemplos PROIBIDOS:
            âŒ "a si mesmo, pensando em voz alta" (absurdo)
            âŒ "a um extraterrestre" (impossÃ­vel)
         â†’ Substitua por erros REAIS de interpretaÃ§Ã£o.
      4. "Todas as alternativas tÃªm tamanho similar (Â±20% de caracteres)?"
         â†’ Se NÃƒO â†’ AJUSTE para homogeneidade.
    
    ğŸ“ CAMPO "distractor" (OBRIGATÃ“RIO em cada alternativa):
      * Para alternativas INCORRETAS: explique qual ERRO CONCEITUAL o aluno comete
        ao escolhÃª-la (ex: "Erro de cÃ¡lculo: o aluno soma em vez de multiplicar
        porque confunde adiÃ§Ã£o com operaÃ§Ã£o combinatÃ³ria")
      * Para a alternativa CORRETA: explique por que Ã© a resposta certa, referenciando
        o texto ou dados que a sustentam

    - REGRAS DE CONSTRUÃ‡ÃƒO DO ITEM (PADRÃƒO OURO):
      1. INSERÃ‡ÃƒO DO TEXTO: O enunciado deve dialogar com o texto. Use referÃªncias diretas (ex: "No trecho '...' o autor sugere...", "A expressÃ£o X na linha 2 indica...").
      
      2. âš ï¸âš ï¸âš ï¸ QUESTÃ•ES COM IMAGEM - REGRA ABSOLUTAMENTE CRÃTICA âš ï¸âš ï¸âš ï¸
         â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
         âŒ PROIBIDO: Descrever a imagem no enunciado ou no texto.
         âŒ PROIBIDO: "A imagem mostra um menino sentado no sofÃ¡ olhando o celular..."
         âŒ PROIBIDO: "No primeiro quadro, vemos uma pessoa..."
         âŒ PROIBIDO: "A tirinha apresenta trÃªs cenas onde..."
         âŒ PROIBIDO: "Na imagem, hÃ¡ um diÃ¡logo entre X e Y. X diz: '...'"
         âŒ PROIBIDO: Narrar o conteÃºdo visual no question_statement
         
         âœ… CORRETO: Apenas REFERENCIAR a imagem para interpretaÃ§Ã£o.
         âœ… CORRETO: "Observe a tirinha e responda."
         âœ… CORRETO: "A expressÃ£o do personagem no segundo quadrinho revela..."
         âœ… CORRETO: "Com base na cena ilustrada, Ã© possÃ­vel inferir que..."
         
         ğŸ¯ PRINCÃPIO: O aluno DEVE OLHAR para a imagem. Se vocÃª descreve a imagem, ela se torna REDUNDANTE e INÃšTIL.
         ğŸ¯ REGRA DE OURO: Se ao remover a imagem o aluno AINDA consegue responder
            porque o enunciado descreveu tudo, o item estÃ¡ REPROVADO.
         â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
         
      3. COMANDO: Deve ser claro e exigir a habilidade cognitiva, e nÃ£o apenas localizaÃ§Ã£o mecÃ¢nica (salvo se a habilidade for essa).

    - EXPLICAÃ‡ÃƒO:
      * Deve ser CONCISA, RESUMIDA e DIRETA (mÃ¡x 3 linhas).
</INSTRUCTIONS>

<OUTPUT-FORMAT>
    IMPORTANTE: Retorne APENAS um JSON vÃ¡lido no formato EXATO abaixo, sem texto adicional antes ou depois.
    
    O JSON deve ter a estrutura:
    {{
        "questions": [
            {{
                "question_number": 1,
                "id_skill": "D1",
                "skill": "Localizar informaÃ§Ãµes explÃ­citas em um texto",
                "proficiency_level": "Adequado",
                "proficiency_description": "DescriÃ§Ã£o do nÃ­vel de proficiÃªncia",
                "title": "TÃ­tulo do texto base",
                "text": "O TEXTO REAL RECUPERADO DA SUA MEMÃ“RIA",
                "source": "Nome do Autor Real - Nome da Obra (Ano)",
                "source_url": null,
                "source_author": "Nome do Autor Real",
                "question_statement": "Enunciado da questÃ£o?",
                "alternatives": [
                    {{"letter": "A", "text": "Texto da alternativa A", "distractor": "ExplicaÃ§Ã£o de por que esta alternativa Ã© correta ou incorreta"}},
                    {{"letter": "B", "text": "Texto da alternativa B", "distractor": "ExplicaÃ§Ã£o de por que esta alternativa Ã© correta ou incorreta"}},
                    {{"letter": "C", "text": "Texto da alternativa C", "distractor": "ExplicaÃ§Ã£o de por que esta alternativa Ã© correta ou incorreta"}},
                    {{"letter": "D", "text": "Texto da alternativa D", "distractor": "ExplicaÃ§Ã£o de por que esta alternativa Ã© correta ou incorreta"}}
                ],
                "correct_answer": "B",
                "explanation_question": "ExplicaÃ§Ã£o breve do gabarito.",
                "image_data": null
            }}
        ]
    }}
    
    REGRAS DO JSON:
    - Use EXATAMENTE os nomes de campos mostrados acima (em inglÃªs)
    - O campo "questions" Ã© obrigatÃ³rio e deve ser uma lista
    - Cada questÃ£o deve ter TODOS os campos mostrados
    - As alternativas devem ser uma lista de objetos com "letter", "text" e "distractor"
    - O campo "distractor" deve explicar por que cada alternativa Ã© correta ou incorreta
    - NÃƒO inclua texto explicativo fora do JSON
    
    â”â”â”â”â”â”â”â”â” CHECKLIST FINAL (aplique a CADA questÃ£o antes de retornar) â”â”â”â”â”â”â”â”â”
    Antes de retornar o JSON, valide CADA questÃ£o:
    â–¡ TODOS os distratores sÃ£o plausÃ­veis (nÃ£o absurdos/cÃ´micos)?
    â–¡ Todas as alternativas tÃªm tamanho similar (Â±20%)?
    â–¡ O gabarito NÃƒO Ã© a alternativa mais longa?
    â–¡ O question_statement NÃƒO narra o conteÃºdo da imagem?
    â–¡ A complexidade estÃ¡ alinhada ao nÃ­vel {proficiency_level}?
    Se QUALQUER item falhar â†’ CORRIJA antes de retornar.
    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
</OUTPUT-FORMAT>

<IMAGE-DEPENDENCY>
    {image_dependency_instruction}
</IMAGE-DEPENDENCY>
